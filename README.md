# RelayX

This README was generated by AI.

RelayX is an Electron-based audio relay application that utilizes Tailscale network and WebRTC technology to achieve real-time audio communication and sharing. It allows users to perform high-quality audio transmission between devices in the Tailscale network, including microphone input, application audio capture, and screen sharing.

## Features

### 🎵 Audio Processing
- **Microphone Input**: Real-time capture and transmission of microphone audio
- **Application Audio Capture**: Capture audio from running applications on the system (CPA - Capture Process Audio)
- **Audio Encoding/Decoding**: Efficient audio compression using Opus codec
- **Audio Spectrum Visualization**: Real-time display of audio spectrum and waveform
- **Noise Suppression**: Built-in noise suppression functionality

### 🌐 Network Connectivity
- **Tailscale Integration**: Utilize Tailscale's secure network for device connections
- **WebRTC Communication**: Low-latency peer-to-peer audio transmission
- **Auto-Discovery**: Automatic discovery of online peers in the network
- **NAT Traversal**: Support for NAT traversal connection establishment

### 💬 Real-Time Communication
- **Voice Chat**: Multi-user voice chat room
- **Status Synchronization**: Real-time synchronization of user status (mute, chatting, etc.)
- **Messaging**: Support for text messages and control messages
- **Connection Management**: Intelligent connection establishment and maintenance

### 🎥 Multimedia Sharing
- **Screen Sharing**: Real-time screen content sharing
- **Video Transmission**: Support for video stream transmission
- **Adaptive Bitrate**: Automatic adjustment of transmission bitrate based on network conditions

### 🖥️ User Interface
- **Modern UI**: Beautiful interface based on React and Tailwind CSS
- **Dark Theme**: Support for dark theme
- **Responsive Design**: Adaptive to different screen sizes
- **Intuitive Operation**: Simple and user-friendly interface

## Tech Stack

### Frontend
- **React 19**: User interface framework
- **TypeScript**: Type-safe JavaScript
- **Vite**: Fast build tool
- **Tailwind CSS**: Utility-first CSS framework
- **Radix UI**: Accessible UI component library
- **Zustand**: Lightweight state management

### Backend Services
- **Go 1.24**: High-performance backend service
- **Tailscale SDK**: Network connection and authentication
- **WebRTC**: Real-time communication protocol
- **Gorilla WebSocket**: WebSocket communication

### Desktop Application
- **Electron**: Cross-platform desktop application framework
- **Node.js**: JavaScript runtime

### Audio Processing
- **Web Audio API**: Browser audio processing
- **MediaStreamTrackProcessor**: Audio stream processing
- **AudioEncoder/AudioDecoder**: Audio encoding/decoding

## Project Structure

```
RelayX/
├── src/                    # React frontend source code
│   ├── components/         # React components
│   ├── stores/            # Zustand state management
│   ├── AudioManager/      # Audio context management
│   ├── MediaTrackManager/ # Media track management
│   └── types/             # TypeScript type definitions
├── twg/                   # Go backend service (Tailscale WebRTC Gateway)
│   ├── main.go           # Main program entry
│   ├── rtc.go            # WebRTC connection management
│   ├── ts.go             # Tailscale integration
│   └── wsService.go      # WebSocket service
├── app/                   # Electron main process
│   ├── index.mjs         # Main process entry
│   ├── ipc/              # IPC communication handling
│   └── subprocess/       # Subprocess management
├── public/                # Static resources
├── protogen/             # Protocol buffer generated files
└── release/              # Build output
```

## Installation and Running

### Environment Requirements
- Node.js 18+
- Go 1.24+
- Windows/macOS/Linux

### Install Dependencies
```bash
# Install frontend dependencies
yarn install

# Download audio capture tool (optional)
yarn downloadCPA

# Build Go backend
yarn build:go
```

### Development Mode
```bash
# Start development server
yarn dev
```

### Production Build
```bash
# Build frontend
yarn build:fe

# Build complete application
yarn build
```

## Configuration

### Tailscale Setup
On first run, the application will display a welcome interface requiring configuration:
- **Hostname**: Device name in the Tailscale network
- **Auth Key**: Tailscale authentication key

### Environment Variables
Create a `.env` file to configure environment variables:
```
NODE_HOSTNAME=your-hostname
TAILSCALE_AUTH_KEY=your-auth-key
```

## Usage Guide

### Basic Operations
1. **Launch App**: Run the RelayX application
2. **Configure Tailscale**: Set hostname and auth key on first run
3. **Wait for Connection**: Wait for Tailscale connection to establish
4. **Join Chat**: Click the chat button in the user panel

### Audio Settings
- **Microphone**: Select microphone device in the user panel
- **Application Audio**: Click the music icon to select applications to capture
- **Volume Control**: Use sliders to adjust master volume and mute status

### Advanced Features
- **Screen Sharing**: Enable screen sharing in the chat panel
- **Status Management**: Real-time display of all online users' status
- **Connection Monitoring**: View WebRTC connection status and network statistics

## Architecture Design

### Component Architecture
- **Frontend (React)**: User interface and interaction logic
- **Electron Main Process**: Window management, IPC communication, subprocess control
- **Go Backend Service**: Network connection, WebRTC management, WebSocket service
- **Audio Processing Engine**: Real-time audio capture, encoding, and transmission

### Data Flow
1. **Audio Input**: Microphone/Application → Audio Context → Encoder → WebRTC
2. **Network Transmission**: WebRTC → Tailscale Network → Peers
3. **Audio Output**: WebRTC → Decoder → Audio Context → Speakers

### Communication Protocols
- **WebRTC**: Media data transmission
- **WebSocket**: Control messages and status synchronization
- **HTTP**: Connection establishment and signaling
- **UDP**: Peer discovery and broadcasting

## Development Guide

### Code Standards
- Use TypeScript for type checking
- Follow code style configured by ESLint
- Use Prettier for code formatting

### Debugging
- **Frontend Debugging**: Use Chrome DevTools
- **Electron Debugging**: Use Electron DevTools
- **Go Debugging**: Use Delve debugger

### Testing
```bash
# Run frontend tests
yarn test

# Run lint checks
yarn lint
```

## Contributing

Welcome to submit Issues and Pull Requests!

### Development Environment Setup
1. Fork this repository
2. Clone locally: `git clone https://github.com/your-username/RelayX.git`
3. Install dependencies: `yarn install`
4. Start development: `yarn dev`

### Commit Standards
- Use clear commit messages
- Follow Conventional Commits standard
- Write tests for new features

## License

This project uses the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [Tailscale](https://tailscale.com/) - Provides secure network connections
- [WebRTC](https://webrtc.org/) - Real-time communication technology
- [Electron](https://electronjs.org/) - Desktop application framework
- [Pion WebRTC](https://github.com/pion/webrtc) - Go WebRTC implementation

## Contact

- Project Homepage: [GitHub](https://github.com/Need-an-AwP/RelayX)
- Issue Feedback: [Issues](https://github.com/Need-an-AwP/RelayX/issues)

---

**Note**: This project is still in development, and some features may be unstable. If you encounter issues, please check [Known Issues](#) or submit an Issue.